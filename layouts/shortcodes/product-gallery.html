{{/* layouts/shortcodes/gallery.html */}}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/css/lightbox.min.css" />

<style>
.gallery {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  grid-auto-rows: 200px;
  gap: 10px;
}

.gallery-item {
  position: relative;
  overflow: hidden;
  background: #f5f5f5;
}

.gallery-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.gallery-title {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  background: rgba(0,0,0,0.5);
  color: white;
  padding: 5px;
  font-size: 0.9rem;
  text-align: center;
}

.gallery-item.size-1x1 {
  grid-row: span 1;
  grid-column: span 1;
}
.gallery-item.size-1x2 {
  grid-row: span 2;
  grid-column: span 1;
}
.gallery-item.size-2x1 {
  grid-row: span 1;
  grid-column: span 2;
}
.gallery-item.size-2x2 {
  grid-row: span 2;
  grid-column: span 2;
}
</style>

<div class="gallery">
  {{ $sizes := slice "size-1x1" "size-1x2" "size-2x1" "size-2x2" }}
  {{ range $index, $item := .Page.Params.gallery }}
    {{ $size := index $sizes (mod $index (len $sizes)) }}
    <div class="gallery-item {{ $size }}">
      <a href="/img/products/{{ $item.image }}" data-lightbox="gallery" data-title="<strong>{{ $item.title }}</strong><br>{{ $item.description }}">
        <img src="/img/products/{{ $item.image }}" alt="{{ $item.title }}">
        <div class="gallery-title">{{ $item.title }}</div>
      </a>
    </div>
  {{ end }}
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/js/lightbox.min.js"></script>
